V$(function() {\u000a    function FirstRunViewModel() {\u000a        var self = this;\u000a\u000a        self.username = ko.observable(undefined);\u000a        self.password = ko.observable(undefined);\u000a        self.confirmedPassword = ko.observable(undefined);\u000a\u000a        self.passwordMismatch = ko.pureComputed(function() {\u000a            return self.password() != self.confirmedPassword();\u000a        });\u000a\u000a        self.validUsername = ko.pureComputed(function() {\u000a            return self.username() && self.username().trim() != "";\u000a        });\u000a\u000a        self.validPassword = ko.pureComputed(function() {\u000a            return self.password() && self.password().trim() != "";\u000a        });\u000a\u000a        self.validData = ko.pureComputed(function() {\u000a            return !self.passwordMismatch() && self.validUsername() && self.validPassword();\u000a        });\u000a\u000a        self.keepAccessControl = function() {\u000a            if (!self.validData()) return;\u000a\u000a            var data = {\u000a                "ac": true,\u000a                "user": self.username(),\u000a                "pass1": self.password(),\u000a                "pass2": self.confirmedPassword()\u000a            };\u000a            self._sendData(data);\u000a        };\u000a\u000a        self.disableAccessControl = function() {\u000a            $("#confirmation_dialog .confirmation_dialog_message").html(gettext("If you disable Access Control <strong>and</strong> your RaionPi installation is accessible from the internet, your printer <strong>will be accessible by everyone - that also includes the bad guys!</strong>"));\u000a            $("#confirmation_dialog .confirmation_dialog_acknowledge").unbind("click");\u000a            $("#confirmation_dialog .confirmation_dialog_acknowledge").click(function(e) {\u000a                e.preventDefault();\u000a                $("#confirmation_dialog").modal("hide");\u000a\u000a                var data = {\u000a                    "ac": false\u000a                };\u000a                self._sendData(data, function() {\u000a                    // if the user indeed disables access control, we'll need to reload the page for this to take effect\u000a                    showReloadOverlay();\u000a                });\u000a            });\u000a            $("#confirmation_dialog").modal("show");\u000a        };\u000a\u000a        self._sendData = function(data, callback) {\u000a            $.ajax({\u000a                url: API_BASEURL + "setup",\u000a                type: "POST",\u000a                dataType: "json",\u000a                data: data,\u000a                success: function() {\u000a                    self.closeDialog();\u000a                    if (callback) callback();\u000a                }\u000a            });\u000a        };\u000a\u000a        self.showDialog = function() {\u000a            $("#first_run_dialog").modal("show");\u000a        };\u000a\u000a        self.closeDialog = function() {\u000a            $("#first_run_dialog").modal("hide");\u000a        };\u000a\u000a        self.onAllBound = function(allViewModels) {\u000a            if (CONFIG_FIRST_RUN) {\u000a                self.showDialog();\u000a            }\u000a        }\u000a    }\u000a\u000a    OCTOPRINT_VIEWMODELS.push([\u000a        FirstRunViewModel,\u000a        [],\u000a        "#first_run_dialog"\u000a    ]);\u000a});\u000a\u000a;\u000a
p0
.